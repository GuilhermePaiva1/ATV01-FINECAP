{% extends "base.html" %}
{% load i18n %}
{% block head_title %}{% trans "Change Password" %}{% endblock head_title %}

{% block body %}
<div class="main-content pl-sm-3 mt-4 d-flex justify-content-center align-items-center">
  <div class="col-md-5 col-lg-5 col-xl-5 col-12">
    <h1 class="text-h1 text-center">
      {% if token_fail %}
        {% trans "Bad Token" %}
      {% else %}
        {% trans "Change Password" %}
      {% endif %}
    </h1>
    {% if token_fail %}
      {% url 'account_reset_password' as passwd_reset_url %}
      <p class="text-center">
        {% blocktrans %}
        The password reset link was invalid, possibly because it has already been used. Please request a <a href="{{ passwd_reset_url }}">new password reset</a>.
        {% endblocktrans %}
      </p>
    {% else %}
      <form method="POST" action="{{ action_url }}" class="password_reset_from_key">
        {% csrf_token %}
        <div class="form-group input-button">
          <label for="id_password1">{% trans "New Password" %}</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-lock" aria-hidden="true"></i></span>
            </div>
            <input type="password" name="password1" class="form-control toggle-password" id="id_password1">
            <div class="input-group-append">
              <button type="button" class="btn btn-outline-secondary toggle-button" aria-label="Mostrar Senha">
                <i class="fas fa-eye" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="form-group input-button">
          <label for="id_password2">{% trans "Confirm Password" %}</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-lock" aria-hidden="true"></i></span>
            </div>
            <input type="password" name="password2" class="form-control toggle-password" id="id_password2">
            <div class="input-group-append">
              <button type="button" class="btn btn-outline-secondary toggle-button" aria-label="Mostrar Senha">
                <i class="fas fa-eye" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary btn-block">
          {% trans 'Change Password' %}
        </button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock body %}
